<?php if (!defined('BASEPATH')) exit('No direct script access allowed');class Step4 extends Controller {	function Step4()	{		parent::Controller();					//$this->load->library('validation');	}		function _initialize() {		//Unfortunately, we can't put the below code in the constructor since		//$this isn't fully initialized yet in the constructor (for some reason).		$this->load->helper('checkpoint');			//We check if st-config.php file exists		check_installed();				//Check if config file directory is writable		check_config_writable();				//Check if previous steps completed		check_step1_completed();		check_step2_completed();		check_step3_completed();	}		//We don't need to remap here since we are using traditional	//URI format.		function index() {		$this->_initialize();		//$this->_prep_form();		//Move the configuration file over since everything is successful. This must		//occur after the header or else the script will think it has already been installed.		if(rename(ABSPATH.'st-external/st-config.temp.php', ABSPATH.'st-external/st-config.php') === FALSE)		{			error_renaming_config();		}				//Give permissions of the config file to user		if(chmod(ABSPATH.'st-external/st-config.php', 0666) === FALSE)		{			//error_chmod_config(); //Well, we don't have to display this.		}				//Now destroy session variable		$this->load->library('session');		$this->session->sess_destroy();				$this->load->view('step4');		}}?>